<!DOCTYPE html>
<head>
 
  <script src="https://login.salesforce.com/canvas/sdk/js/31.0/canvas-all.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jsforce/1.3.1/jsforce.min.js"></script>
 <script type="text/javascript" src="https://thingtech.ap1.visual.force.com/canvas/sdk/js/32.0/canvas-all.js"></script>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script>



  var sr = '<%- signedRequestJson %>';
  console.log(sr);
   var conn = new jsforce.Connection({ signedRequest: sr });
   console.log('conn='+conn)
    conn.query('SELECT Id, Name FROM Account', function(err, res) {
  if (err) { return console.error(err); }
  console.log(res);
});

// console.log('METHODS'+Object.getOwnPropertyNames(conn));
var obj = JSON.stringify(conn.signedRequest.context);
console.log('OBJECT---------------' +obj);
// console.log('Object Methodss========' +Object.getOwnPropertyNames(obj));

console.log('USER'+ conn.signedRequest.context["user"].userId);
console.log('TEST'+Object.getOwnPropertyNames(conn.signedRequest.context));
// var p = obj["parameters"]

// console.log('JSON'+JSON.stringify(conn.signedRequest.context));
// console.log('user'+conn.signedRequest.context["user"]);
// console.log('SignedRequest-USER'+conn.signedRequest.context["user"].firstname);

 
  </script>
</head>

<body>
<p><%= signedRequestJson %></p>
</body>
</html>